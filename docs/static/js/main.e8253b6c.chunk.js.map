{"version":3,"sources":["index.module.css","../external \"React\"","utils/request.ts","pages/article.tsx","pages/main.tsx","pages/flowhome.tsx","pages/write.tsx","pages/about.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","React","leftToken","rightToken","a","fetch","method","headers","Authorization","then","res","status","json","catch","alert","pre","document","createElement","append","querySelector","appendChild","getArticle","name","window","PARADISE_CITY_Fetch","sendNewArticle","title","content","catagory","author","time","Date","now","body","JSON","stringify","message","btoa","unescape","encodeURIComponent","err","sha","oldTitle","newTitle","oldCatagory","newCatagory","createTime","removeArticle","e","Promise","reject","article","token","prompt","console","log","PARADISE_CITY_Loading","finally","withRouter","ReactRouterDOM","props","PARADISE_history","location","state","hash","history","push","style","onClick","length","go","search","indexOf","isme","className","styles","isEdit","color","href","origin","toLocaleDateString","toFixed","source","escapeHtml","colors","useState","setCatagory","useEffect","PARADISE_lastest_catagory","articleList","map","item","filter","v","i","arr","reverse","target","innerText","avatar","data","Math","floor","random","forEach","d","key","parse","decodeURIComponent","escape","atob","_d","background","slice","split","date","size","cardList","setCardList","index","setIndex","y","setY","min","imgs","matchAll","c","summary","replace","list","sort","b","m","Map","has","set","flowList1","flowList2","scrollTo","bottom","scrollY","src","margin","Push","recorder","clearInput","setState","text","help","localStorage","removeItem","save","setItem","match","updateArticle","onUpload","filename","files","cosUploader","putObject","Bucket","Region","Key","StorageClass","Body","onProgress","progressData","Location","getItem","this","setInterval","savedLength","abs","clearInterval","htmlFor","type","id","onChange","placeholder","value","marginTop","Component","img","onload","load","classList","remove","createBrowserHistory","Router","BrowserRouter","Switch","Route","Link","Layout","loading","initData","getArticleList","dateStr","args","parseInt","year","getFullYear","month","getMonth","day","getDate","coloring","setAttribute","forceUpdate","vc","addEventListener","performance","to","float","font","undefined","exact","path","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8253b6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sider-menu\":\"src_sider-menu__1Bw2a\",\"content\":\"src_content__3N9hT\",\"loading\":\"src_loading__3ANA8\",\"load\":\"src_load__2XCvD\",\"mask\":\"src_mask__3-V5m\",\"main-container\":\"src_main-container__3_HVZ\",\"catagory\":\"src_catagory__2B-wO\",\"catagory-item\":\"src_catagory-item__IA7Qu\",\"catagory-item-active\":\"src_catagory-item-active___ITnh\",\"back-v2ex\":\"src_back-v2ex__3uWbU\",\"flow-container\":\"src_flow-container__2kBCF\",\"flow-card\":\"src_flow-card__HMs7N\",\"detail\":\"src_detail__1llcm\",\"title\":\"src_title__YXAJk\",\"hide-title\":\"src_hide-title__1SGCS\",\"title-name\":\"src_title-name__1Yfuv\",\"title-props\":\"src_title-props__2wQgW\",\"title-props-catagory\":\"src_title-props-catagory__1FYqB\",\"title-user\":\"src_title-user__29Qky\",\"article-container\":\"src_article-container__1teJI\",\"back\":\"src_back__6MTGB\",\"article-props\":\"src_article-props__TqCvT\",\"article-title\":\"src_article-title__2UyCo\",\"article-content\":\"src_article-content__3Q680\",\"write-container\":\"src_write-container__9b_gM\",\"write-title\":\"src_write-title__12-bU\",\"write-catagory\":\"src_write-catagory__2LnOH\",\"editor-container\":\"src_editor-container__2m6Aw\",\"write-textarea\":\"src_write-textarea__152_-\",\"parseMarkdown\":\"src_parseMarkdown__1ObP0\",\"submitButton\":\"src_submitButton__24YPm\",\"about-container\":\"src_about-container__DBowH\",\"rot\":\"src_rot__115DF\"};","module.exports = React;","// 此Token拥有读写存储库的权限，但无法用于GitHub账户设置\r\nconst leftToken = '61e06fdec3996fbda3c'\r\nconst rightToken = 'eb8094d137bf927e7e5b2'\r\n\r\n// 扩展fetch方法，任意AJAX调用都会展示进度条\r\nwindow.PARADISE_CITY_Fetch = window.fetch\r\nwindow.fetch = async (...args) => {\r\n  window.PARADISE_CITY_Loading()\r\n  return await window.PARADISE_CITY_Fetch(...args).finally(() => { window.PARADISE_CITY_Loading() })\r\n}\r\n\r\n// 增删改查存储库文件\r\nasync function getArticleList() {\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/article',\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n        'Content-Type': 'application/vnd.github.VERSION.object'\r\n      },\r\n    }\r\n  )\r\n    .then((res) => {\r\n      if (res.status < 299) return res.json()\r\n      else return null\r\n    })\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch(() => {\r\n      alert(`你的网络环境很可能受到了网络运营商的DNS污染，导致你无法与GitHub服务器通信。\\n每次污染可能持续几小时，你可以尝试更换DNS服务或绑定Host地址。`)\r\n      const pre = document.createElement('pre')\r\n      pre.append(`Host地址表：\r\n      151.101.44.249 github.global.ssl.fastly.net\r\n      192.30.253.113 github.com\r\n      103.245.222.133 assets-cdn.github.com\r\n      23.235.47.133 assets-cdn.github.com\r\n      203.208.39.104 assets-cdn.github.com\r\n      204.232.175.78 documentcloud.github.com\r\n      204.232.175.94 gist.github.com\r\n      107.21.116.220 help.github.com\r\n      207.97.227.252 nodeload.github.com\r\n      199.27.76.130 raw.github.com\r\n      107.22.3.110 status.github.com\r\n      204.232.175.78 training.github.com\r\n      207.97.227.243 www.github.com\r\n      185.31.16.184 github.global.ssl.fastly.net\r\n      151.101.0.0/22 avatars0.githubusercontent.com\r\n      151.101.0.0/22 avatars1.githubusercontent.com\r\n      151.101.0.0/22 avatars2.githubusercontent.com\r\n      151.101.0.0/22 avatars3.githubusercontent.com\r\n      199.232.28.133 cloud.githubusercontent.com`)\r\n      document.querySelector('nav').appendChild(pre)\r\n      return []\r\n    })\r\n}\r\nasync function getArticle(name) {\r\n  return await window.PARADISE_CITY_Fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/article/' + name,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res\r\n    })\r\n}\r\nasync function sendNewArticle(title, content, catagory, author) {\r\n  const time = Date.now()\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/article/' +\r\n    title +\r\n    '-' +\r\n    catagory +\r\n    '-' +\r\n    author +\r\n    '-' +\r\n    time +\r\n    '.md',\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n      body: JSON.stringify({\r\n        message: 'AutoPush Article: ' + title,\r\n        // @ts-ignore\r\n        content: btoa(\r\n          unescape(\r\n            encodeURIComponent(\r\n              JSON.stringify({\r\n                title: title,\r\n                content: content,\r\n                time: time,\r\n                catagory: catagory,\r\n                author: author,\r\n              })\r\n            )\r\n          )\r\n        ),\r\n      }),\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return true\r\n    })\r\n    .catch((err) => {\r\n      return false\r\n    })\r\n}\r\nasync function updateArticle(sha, oldTitle, newTitle, oldCatagory, newCatagory, createTime, content, author) {\r\n  // 私有库仅以文件名作为标识，使用先删除再新增的方式，可以满足对文件名进行变更的需要。\r\n  const removeRes = await removeArticle({ sha, title: oldTitle, catagory: oldCatagory, time: createTime, author })\r\n    .then((e) => { return e })\r\n    .catch((e) => { return e })\r\n  if (removeRes === 'remove failed') {\r\n    return Promise.reject('update failed')\r\n  }\r\n  return await sendNewArticle(newTitle, content, newCatagory, author)\r\n}\r\nasync function removeArticle(article) {\r\n  const token = prompt('你正在变更私有库的文件存储，输入Token:')\r\n  if (token !== 'rm') {\r\n    alert(token + ' 不是有效的 Token')\r\n    return Promise.reject('remove failed');\r\n  }\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/article/' +\r\n    article.title +\r\n    '-' +\r\n    article.catagory +\r\n    '-' +\r\n    article.author +\r\n    '-' +\r\n    article.time +\r\n    '.md',\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n      body: JSON.stringify({\r\n        message: 'AutoDelete article: ' + article.title,\r\n        // @ts-ignore\r\n        sha: article.sha,\r\n      }),\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\nasync function getPhotoList() {\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/photo',\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n    }\r\n  )\r\n    .then((res) => {\r\n      if (res.status < 299) return res.json()\r\n      else return null\r\n    })\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\nasync function getPhoto(name) {\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/photo/' + name,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\nasync function sendNewPhoto(title, content) {\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/photo/' +\r\n    title +\r\n    '.png',\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n      body: JSON.stringify({\r\n        message: 'AutoPush Photo: ' + title,\r\n        // @ts-ignore\r\n        content: btoa(\r\n          unescape(\r\n            encodeURIComponent(\r\n              JSON.stringify({\r\n                title: title,\r\n                content: content,\r\n                time: title,\r\n              })\r\n            )\r\n          )\r\n        ),\r\n      }),\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return true\r\n    })\r\n    .catch((err) => {\r\n      return false\r\n    })\r\n}\r\nasync function removePhoto(title, sha) {\r\n  return await fetch(\r\n    'https://api.github.com/repos/xiaozhaoqi/privateRepository/contents/files/photo/' +\r\n    title +\r\n    '.png',\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: 'token ' + leftToken + rightToken,\r\n      },\r\n      body: JSON.stringify({\r\n        message: 'AutoDelete Photo: ' + title,\r\n        // @ts-ignore\r\n        sha: sha,\r\n      }),\r\n    }\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\nasync function getUserInfo() {\r\n  return await fetch('https://api.github.com/search/users?q=xiaozhaoqi')\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\n\r\nexport {\r\n  getArticleList,\r\n  getArticle,\r\n  sendNewArticle,\r\n  updateArticle,\r\n  sendNewPhoto,\r\n  getPhotoList,\r\n  getPhoto,\r\n  removePhoto,\r\n  removeArticle,\r\n  getUserInfo,\r\n}\r\n","// @ts-nocheck\r\nimport styles from '../index.module.css'\r\nimport Markdown from 'react-markdown/with-html'\r\nimport { removeArticle } from '../utils/request'\r\n\r\nconst { withRouter } = ReactRouterDOM\r\n\r\nexport default withRouter((props) => {\r\n  const article = window.PARADISE_history.location.state || props.article\r\n  if (!document.location.hash) {\r\n    props.history.push('/ParadiseCity/')\r\n  }\r\n  return (\r\n    <>\r\n      <h2><span style={ { 'margin-right': '10px' } } onClick={ () => { window.PARADISE_history.length > 2 ? props.history.go(-1) : props.history.push('/ParadiseCity/') } }>🔙</span>\r\n        { props.location.search.indexOf('isme') > -1 || window.isme === true ? <><span\r\n          className={ styles['back'] }\r\n          onClick={ () => { props.history.push('/ParadiseCity/write', { article: article, isEdit: true }) } }\r\n        >编辑</span>\r\n          <span\r\n            className={ styles['back'] }\r\n            style={ { color: 'red' } }\r\n            onClick={ () => {\r\n              removeArticle(article)\r\n                .then(() => {\r\n                  location.href = location.origin\r\n                })\r\n                .catch(() => { })\r\n            } }\r\n          >删除</span></> : null }\r\n      </h2>\r\n      <div className={ styles['article-container'] }>\r\n        <p className={ styles['article-title'] }>{ article.title }</p>\r\n        <p className={ styles['article-props'] }>\r\n          <span>{ article.catagory || '技术' }</span>\r\n          { article.time && <span>{ article.author || 'zhaoqi.xiao' } 最后编辑于 { (new Date(article.time)).toLocaleDateString() }</span> }\r\n          { article.content && <span>预计阅读时间 { (article.content.length / 200 + 1).toFixed(0) } 分钟</span> }\r\n        </p>\r\n        <Markdown\r\n          className={ styles['article-content'] }\r\n          source={ article.content }\r\n          escapeHtml={ false }\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n})\r\n","// @ts-nocheck\r\nimport styles from '../index.module.css'\r\nimport { getArticle } from '../utils/request'\r\nconst colors = [\r\n  '#123456',\r\n  '#234567',\r\n  '#345678',\r\n  '#456789',\r\n  '#567890'\r\n]\r\nconst { withRouter } = ReactRouterDOM\r\n\r\nexport default withRouter((props) => {\r\n  const [catagory, setCatagory] = React.useState('')\r\n  React.useEffect(() => {\r\n    if (window.PARADISE_lastest_catagory) {\r\n      setCatagory(window.PARADISE_lastest_catagory)\r\n    } else {\r\n      if (props.articleList[0]) {\r\n        setCatagory(props.articleList[0].catagory)\r\n      }\r\n    }\r\n  }, [props.articleList])\r\n  return (\r\n    <div className={ styles['main-container'] }>\r\n      <a className={ styles['back-v2ex'] } onClick={ () => {\r\n        props.history.push('/ParadiseCity')\r\n      } }>\r\n        体验新版\r\n      </a>\r\n      <div className={ styles['catagory'] }>\r\n        {\r\n          props.articleList.map((item) => {\r\n            return item.catagory || '技术'\r\n          }).filter((v, i, arr) => arr.indexOf(v, 0) === i).reverse().map((item) => (\r\n            <a\r\n              onClick={ (e) => { setCatagory(e.target.innerText) } }\r\n              className={ catagory === item ? styles['catagory-item-active'] : styles['catagory-item'] }\r\n            >{ item }</a>\r\n          ))\r\n        }\r\n      </div>\r\n      {\r\n        props.articleList.filter(v => v.catagory === catagory).map((item) => {\r\n          if (item.avatar) {\r\n            return item\r\n          } else {\r\n            const data = []\r\n            for (let i = 0; i < 5; i++) {\r\n              data.push([\r\n                Math.floor(Math.random() * 2),\r\n                Math.floor(Math.random() * 2),\r\n                Math.floor(Math.random() * 2)\r\n              ])\r\n            }\r\n            data.forEach((d) => {\r\n              d.push(d[1], d[0])\r\n            })\r\n            item.color = colors[Math.floor(Math.random() * colors.length)]\r\n            item.avatar = data\r\n            return item\r\n          }\r\n        }).map((item) => (\r\n          <p\r\n            className={ styles['title'] }\r\n            key={ item.name }\r\n            onClick={ () => {\r\n              getArticle(item.name).then((v) => {\r\n                if (v) {\r\n                  window.PARADISE_lastest_catagory = catagory\r\n                  window.PARADISE_history.push('/ParadiseCity/article', {\r\n                    title: JSON.parse(decodeURIComponent(escape(atob(v.content)))).title,\r\n                    content: JSON.parse(decodeURIComponent(escape(atob(v.content)))).content,\r\n                    time: JSON.parse(decodeURIComponent(escape(atob(v.content)))).time,\r\n                    catagory: JSON.parse(decodeURIComponent(escape(atob(v.content)))).catagory,\r\n                    author: JSON.parse(decodeURIComponent(escape(atob(v.content)))).author,\r\n                    sha: v.sha,\r\n                  })\r\n                  document.location.hash = v.sha\r\n                }\r\n              })\r\n            } }\r\n          >\r\n            <div\r\n              className={ styles['title-user'] }\r\n            >\r\n              {\r\n                item.avatar.map((d) => (\r\n                  d.map((_d) => {\r\n                    return (\r\n                      <div\r\n                        data={ _d }\r\n                        className={ 'avatar' }\r\n                        style={ { background: item.color } }\r\n                      ></div>\r\n                    )\r\n                  })\r\n                ))\r\n              }\r\n            </div>\r\n            <p className={ styles['title-name'] }>{ item.name.slice(0, -3).split('-')[0] }</p>\r\n            {/* <span className={ styles['title-props'] + ' ' + styles['title-props-catagory'] }>{ item.catagory }</span> */ }\r\n            { item.author ? <span className={ styles['title-props'] }>{ item.author }</span> : null }\r\n            <span className={ styles['title-props'] }>{ item.date }</span>\r\n            <span className={ styles['title-props'] }>{ item.size + '字节' }</span>\r\n          </p>\r\n        ))\r\n      }\r\n    </div >\r\n  )\r\n})\r\n","// @ts-nocheck\r\nimport styles from '../index.module.css'\r\nimport { getArticle } from '../utils/request'\r\nimport Markdown from 'react-markdown/with-html'\r\n\r\nconst colors = [\r\n  '#123456',\r\n  '#234567',\r\n  '#345678',\r\n  '#456789',\r\n  '#567890'\r\n]\r\nconst { withRouter } = ReactRouterDOM\r\n\r\nexport default withRouter((props) => {\r\n  const [cardList, setCardList] = React.useState([])\r\n  const [catagory, setCatagory] = React.useState('')\r\n  const [index, setIndex] = React.useState(0)\r\n  const [y, setY] = React.useState(0)\r\n  React.useEffect(() => {\r\n    if (window.PARADISE_lastest_catagory) {\r\n      setCatagory(window.PARADISE_lastest_catagory)\r\n    } else {\r\n      if (props.articleList[0]) {\r\n        setCatagory(props.articleList[0].catagory)\r\n      }\r\n    }\r\n    if (cardList.length < props.articleList.length) {\r\n      props.articleList.slice(cardList.length, Math.min(cardList.length + 10, props.articleList.length)).forEach(item => {\r\n        getArticle(item.name).then((v) => {\r\n          if (v) {\r\n            let content = JSON.parse(decodeURIComponent(escape(atob(v.content)))).content\r\n            let time = JSON.parse(decodeURIComponent(escape(atob(v.content)))).time\r\n            let imgs = []\r\n            for (let c of content.matchAll(/\\!\\[.*\\]\\((.*)\\)/g)) {\r\n              if (c[1]) {\r\n                imgs.push(c[1])\r\n              }\r\n            }\r\n            let summary = content.replace(/[\\#\\+\\-\\`]|\\s*[#+]*<[^>]*>|<\\/[^>]*>|\\!\\[.*\\]\\(.*\\)/g, '').slice(0, 63)\r\n            setCardList(arr => {\r\n              let list = [...arr, { ...item, time, content, summary, imgs }].sort((a, b) => (a.sort > b.sort ? 1 : -1))\r\n              const m = new Map();\r\n              list = list.filter((item) => !m.has(item['sort']) && m.set(item['sort'], 1));\r\n              let flowList1 = []\r\n              let flowList2 = []\r\n              for (let i = 0; i < list.length; i++) {\r\n                if (i % 2 === 0) {\r\n                  flowList1.push(list[i])\r\n                } else {\r\n                  flowList2.push(list[i])\r\n                }\r\n              }\r\n              return [...flowList1, ...flowList2]\r\n            })\r\n            window.scrollTo(0, y)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }, [props.articleList, index])\r\n  return (\r\n    <div className={ styles['flow-container'] }>\r\n      { cardList.length < props.articleList.length ? <a className={ styles['back-v2ex'] } style={ { bottom: '-30px' } } onClick={ () => {\r\n        setY(window.scrollY)\r\n        setIndex(i => i + 1)\r\n      } }>\r\n        再看10条\r\n      </a> : null }\r\n      <a className={ styles['back-v2ex'] } onClick={ () => {\r\n        props.history.push('/ParadiseCity/way2explore')\r\n      } }>\r\n        返回旧版\r\n      </a>\r\n      {\r\n        cardList.map((item) => (\r\n          <p\r\n            className={ styles['flow-card'] }\r\n            key={ item.name }\r\n            onClick={ () => {\r\n              getArticle(item.name).then((v) => {\r\n                if (v) {\r\n                  window.PARADISE_lastest_catagory = catagory\r\n                  window.PARADISE_history.push('/ParadiseCity/article', {\r\n                    title: JSON.parse(decodeURIComponent(escape(atob(v.content)))).title,\r\n                    content: JSON.parse(decodeURIComponent(escape(atob(v.content)))).content,\r\n                    time: JSON.parse(decodeURIComponent(escape(atob(v.content)))).time,\r\n                    catagory: JSON.parse(decodeURIComponent(escape(atob(v.content)))).catagory,\r\n                    author: JSON.parse(decodeURIComponent(escape(atob(v.content)))).author,\r\n                    sha: v.sha,\r\n                  })\r\n                  document.location.hash = v.sha\r\n                }\r\n              })\r\n            } }\r\n          >\r\n            {\r\n              item.imgs && item.imgs.length ?\r\n                item.imgs.map(src => {\r\n                  return <img src={ src } />\r\n                }) : null\r\n            }\r\n            <div className={ styles['detail'] }>\r\n              <p className={ styles['title-name'] }>{ item.name.slice(0, -3).split('-')[0] }</p>\r\n              <p style={ { margin: '3px 0' } }>{ item.summary }...</p>\r\n              <div>\r\n                <span className={ styles['title-props'] + ' ' + styles['title-props-catagory'] }>{ item.catagory }</span>\r\n                { item.author ? <span className={ styles['title-props'] }>{ item.author }</span> : null }\r\n                <span className={ styles['title-props'] }>{ item.date }</span>\r\n              </div>\r\n            </div>\r\n          </p>\r\n        ))\r\n      }\r\n    </div >\r\n  )\r\n})\r\n","// @ts-nocheck\r\nimport Markdown from 'react-markdown/with-html'\r\nimport styles from '../index.module.css'\r\n\r\nimport { sendNewArticle, updateArticle } from '../utils/request'\r\n\r\nclass Push extends React.Component<\r\n  {},\r\n  {\r\n    text: string\r\n    title: string\r\n    catagory: string\r\n    help: string\r\n    author: string\r\n  }\r\n> {\r\n  constructor(props) {\r\n    super(props)\r\n    const { state: { article: { content = '', title = '', catagory = '' } = {} } = {} } = props.location\r\n    this.state = {\r\n      text: content || localStorage.getItem('writing-text') || '',\r\n      title: title || localStorage.getItem('writing-title') || '',\r\n      catagory: catagory || '',\r\n      help: '',\r\n      author: localStorage.getItem('author') || '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.recorder = setInterval(() => {\r\n      const savedLength =\r\n        (localStorage.getItem('writing-text') && localStorage.getItem('writing-text').length) || 0\r\n      if (Math.abs(savedLength - this.state.text.length) > 100) {\r\n        this.save()\r\n      }\r\n    }, 30000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.recorder)\r\n  }\r\n\r\n  recorder: any\r\n\r\n  clearInput = () => {\r\n    this.setState({ text: '', title: '', help: '', author: '', catagory: '' })\r\n    localStorage.removeItem('writing-title')\r\n    localStorage.removeItem('writing-text')\r\n    localStorage.removeItem('author')\r\n  }\r\n\r\n  save = () => {\r\n    localStorage.setItem('writing-title', this.state.title)\r\n    localStorage.setItem('writing-text', this.state.text)\r\n  }\r\n\r\n  push = () => {\r\n    const { state: { isEdit = false, article: { title = '', catagory = '', time = '', sha = '' } = {} } = {} } = this.props.location\r\n    localStorage.setItem('author', this.state.author)\r\n    if (this.state.title && this.state.title.match(/[\\/-]/ig) === null) {\r\n      if (isEdit) {\r\n        updateArticle(\r\n          sha,\r\n          title,\r\n          this.state.title,\r\n          catagory,\r\n          this.state.catagory || '技术',\r\n          time,\r\n          this.state.text,\r\n          this.state.author,\r\n        ).then(() => {\r\n          this.setState({ text: '', title: '', help: '😊更新成功了' })\r\n        })\r\n      } else {\r\n        sendNewArticle(this.state.title, this.state.text, this.state.catagory || '技术', this.state.author).then(() => {\r\n          this.setState({ text: '', title: '', help: '😊发布成功了' })\r\n        })\r\n      }\r\n    } else {\r\n      this.setState({ help: '🤢你需要一个标题，且标题中不能含有保留字\"/\"和\"-\"，\"标题+分类+时间戳\"将作为存储文件的唯一标识!' })\r\n    }\r\n  }\r\n\r\n  onUpload = (e) => {\r\n    const filename = e.target.files[0].name\r\n    window.cosUploader.putObject({\r\n      Bucket: 'img-1258836748', /* 必须 */\r\n      Region: 'ap-beijing',     /* 存储桶所在地域，必须字段 */\r\n      Key: '图床/' + filename,              /* 必须 */\r\n      StorageClass: 'STANDARD',\r\n      Body: e.target.files[0], // 上传文件对象\r\n      onProgress: function (progressData) {\r\n        console.log(JSON.stringify(progressData));\r\n      }\r\n    }, (err, data) => {\r\n      this.setState({ text: this.state.text + `![${filename}](https://${data.Location})` })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { state: { isEdit = false } = {} } = this.props.location\r\n    return (\r\n      <>\r\n        <h2>{ isEdit ? '修改' : '创建' }文章 <span onClick={ () => { this.props.history.go(-1) } }>🔙</span>\r\n          <label htmlFor=\"imgUpload\" title=\"上传图片\"> 🌅</label>\r\n          <input type=\"file\" id=\"imgUpload\" onChange={ this.onUpload } />\r\n        </h2>\r\n        <div className={ styles['write-container'] }>\r\n          <input\r\n            className={ styles['write-title'] }\r\n            placeholder=\"标题\"\r\n            value={ this.state.title }\r\n            onChange={ (e) => {\r\n              this.setState({ title: e.target.value })\r\n            } }\r\n          />\r\n          <div className={ styles['editor-container'] }>\r\n            <textarea\r\n              onChange={ (e) => {\r\n                this.setState({ text: e.target.value })\r\n              } }\r\n              placeholder=\"Markdown Supported\"\r\n              className={ styles['write-textarea'] + ' scrollbar' }\r\n              value={ this.state.text }\r\n            />\r\n            <Markdown\r\n              source={ this.state.text }\r\n              className={ styles['parseMarkdown'] + ' scrollbar' }\r\n              escapeHtml={ false }\r\n            />\r\n          </div>\r\n          <input\r\n            className={ styles['write-catagory'] }\r\n            placeholder=\"自定义分类，默认为[技术]\"\r\n            value={ this.state.catagory }\r\n            onChange={ (e) => {\r\n              this.setState({ catagory: e.target.value })\r\n            } }\r\n          />\r\n          <br />\r\n          <input\r\n            className={ styles['write-catagory'] }\r\n            placeholder=\"文章署名\"\r\n            value={ this.state.author }\r\n            onChange={ (e) => {\r\n              this.setState({ author: e.target.value })\r\n            } }\r\n          />\r\n          <div>\r\n            <button onClick={ this.push } className={ styles['submitButton'] }>\r\n              { isEdit ? '更新这篇文章' : '发布' }\r\n            </button>\r\n            <button className={ styles['submitButton'] } onClick={ this.clearInput }>\r\n              清空内容\r\n            </button>\r\n          </div>\r\n          <p style={ { color: 'red', marginTop: '10px' } }>{ this.state.help }</p>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\nconst { withRouter } = ReactRouterDOM\r\n\r\nexport default withRouter(Push)\r\n","import styles from '../index.module.css'\r\n\r\nexport default () => {\r\n  const img = document.createElement('img')\r\n  img.src =\r\n    'https://s11.flagcounter.com/count/m1nf/bg_FFFFFF/txt_000000/border_FFFFFF/columns_2/maxflags_64/viewers_3/labels_1/pageviews_1/flags_0/percent_0/'\r\n  img.onload = () => {\r\n    const load = document.querySelector('.load-counter')\r\n    load && load.classList.remove('load-counter')\r\n    load && load.appendChild(img)\r\n  }\r\n  return (\r\n    <div className={ styles['about-container'] }>\r\n      <h4>访客们的情况（利用flagcounter记录来访信息）</h4>\r\n      <div className='load-counter' style={ { marginTop: '10px' } }></div>\r\n      <h4>为什么不用互联网平台记录</h4>\r\n      <p>通过robots.txt，本站拒绝善意的爬虫和搜索引擎脚本抓取数据或记录快照，因此这里的内容一般不会被人搜到。</p>\r\n      <p>对数据而言磁盘和局域网是最可靠的，现在采用微软GitHub和腾讯云存储是增加一些风险换取便利性，会定时通过Git将文字备份到磁盘。</p>\r\n      <h4>本站依赖哪些资源</h4>\r\n      <p>依赖GitHub的私有仓库和托管功能，客户端使用GitHub Restful API与私有仓库通信，如提交内容或获取内容。</p>\r\n      <h4>为什么不是Hexo</h4>\r\n      <p>因为Hexo依赖Git和命令行脚本，不够自动化。本站将Markdown内容生成HTML页面的工作交给React来完成。</p>\r\n      <h4>全站主题色（现已支持自定义字体）</h4>\r\n      <p>点击导航栏最左侧的emoji表情，使用系统配色板选择一个主题色，将应用到全站各个界面。</p>\r\n    </div>\r\n  )\r\n}\r\n","// @ts-nocheck\r\nimport Article from './pages/article'\r\nimport Main from './pages/main'\r\nimport FlowHome from './pages/flowhome'\r\nimport Write from './pages/write'\r\nimport About from './pages/about'\r\nimport styles from './index.module.css'\r\nimport { getArticleList, getArticle } from './utils/request'\r\nimport { createBrowserHistory } from 'history'\r\n\r\nconst history = createBrowserHistory()\r\nconst { BrowserRouter: Router, Switch, Route, Link } = ReactRouterDOM\r\nwindow.PARADISE_history = window.PARADISE_history || history\r\n\r\nexport default class Layout extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    articleList: [],\r\n    article: {},\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    window.PARADISE_CITY_Loading = this.loading\r\n    if (localStorage.getItem('font')) {\r\n      document.querySelector(':root').setAttribute('style', '--mainFamily: ' + localStorage.getItem('font'))\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initData()\r\n    let vc = 0;\r\n    document.addEventListener('click', () => {\r\n      vc++;\r\n      if (vc > 5 && performance.now() < 3000) {\r\n        window.isme = true;\r\n      }\r\n    })\r\n  }\r\n\r\n  initData = () => {\r\n    getArticleList().then(articleList => {\r\n      return articleList.filter(v => v.type === 'file')\r\n    }).then((articleList = []) => {\r\n      if (document.location.hash) {\r\n        const sha = document.location.hash.split('#')[1]\r\n        const target = articleList.filter((v) => sha.indexOf(v.sha) > -1)\r\n        if (target.length) {\r\n          getArticle(target[0].name).then((v) => {\r\n            if (v) {\r\n              this.setState({\r\n                article: {\r\n                  title: JSON.parse(decodeURIComponent(escape(atob(v.content)))).title,\r\n                  content: JSON.parse(decodeURIComponent(escape(atob(v.content)))).content,\r\n                  time: JSON.parse(decodeURIComponent(escape(atob(v.content)))).time,\r\n                  catagory: JSON.parse(decodeURIComponent(escape(atob(v.content)))).catagory,\r\n                  author: JSON.parse(decodeURIComponent(escape(atob(v.content)))).author,\r\n                  sha: v.sha,\r\n                }\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          location.href = location.origin\r\n        }\r\n      }\r\n      this.setState({\r\n        articleList: articleList.map((item) => {\r\n          const dateStr = item.name.slice(-16, -3).replace(/\\D*/, '')\r\n          if (dateStr.length === 13) {\r\n            const args = item.name.slice(0, -3).split('-')\r\n            const date = new Date(parseInt(dateStr))\r\n            item.year = date.getFullYear()\r\n            item.month = date.getMonth() + 1\r\n            item.day = date.getDate()\r\n            item.date = date.toLocaleDateString()\r\n            item.catagory = args[1]\r\n            item.author = args.length > 3 ? args[2] : 'zhaoqi.xiao'\r\n          }\r\n          return item\r\n        }).sort((a, b) => (a.date < b.date ? 1 : -1)).map((v, i) => ({ ...v, sort: i })) || []\r\n      })\r\n    })\r\n  }\r\n\r\n  loading = () => {\r\n    this.setState({ loading: !this.state.loading })\r\n  }\r\n\r\n  coloring = (e) => {\r\n    document.querySelector(':root').setAttribute('style', '--mainColor: ' + e.target.value)\r\n    this.forceUpdate()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router history={ history }>\r\n        <nav className={ styles['sider-menu'] }>\r\n          <label htmlFor='color' title=\"点击更换文字颜色\">👫</label>\r\n          <Link to='/ParadiseCity/about' style={ { float: 'right' } }>我</Link>\r\n          <Link to='/ParadiseCity/write' style={ { float: 'right' } }>写</Link>\r\n          <Link to='/ParadiseCity/' onClick={ this.initData } style={ { float: 'right' } }>读</Link>\r\n          <span className={ styles['scroll-tips'] }>\r\n            <Link to='/ParadiseCity/' onClick={ this.initData }>\r\n              {/* <span>为</span>\r\n              <span className={ styles['hide-title'] }>而不争，和而不同</span> */}\r\n              <span>心灵空间</span>\r\n            </Link>\r\n            {/* <span style={ { letterSpacing: '-4px' } }>木</span>\r\n            <span style={ { letterSpacing: '-5px', fontSize: '0.7em' } }>又</span>\r\n            <span style={ { letterSpacing: '6px' } }>寸</span>\r\n            <span style={ { letterSpacing: '-12px' } }>氵</span>\r\n            <span style={ { letterSpacing: '0px' } }>同</span> */}\r\n          </span>\r\n          <label title=\"点击更换文字字体\" onClick={ () => {\r\n            let font = prompt(`请输入你想要的且你的设备已安装的字体，例如楷体、宋体、黑体、\"Segoe UI\", \"Roboto\", \"Oxygen\",\"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif 之类的font-family，输入reset恢复默认设定。`)\r\n            if (font) {\r\n              font = font === 'reset' ? undefined : font\r\n              localStorage.setItem('font', font)\r\n              document.querySelector(':root').setAttribute('style', '--mainFamily: ' + font)\r\n              this.forceUpdate()\r\n            }\r\n          } }>👣</label>\r\n          <input type='color' id='color' onChange={ this.coloring } />\r\n        </nav>\r\n        <div className={ styles['content'] }>\r\n          <Switch>\r\n            <Route exact path='/ParadiseCity/way2explore'>\r\n              <Main articleList={ this.state.articleList } />\r\n            </Route>\r\n            <Route exact path='/ParadiseCity/'>\r\n              <FlowHome articleList={ this.state.articleList } />\r\n            </Route>\r\n            <Route exact path='/ParadiseCity/article'>\r\n              <Article article={ this.state.article } />\r\n            </Route>\r\n            <Route exact path='/ParadiseCity/write'>\r\n              <Write />\r\n            </Route>\r\n            <Route exact path='/ParadiseCity/about'>\r\n              <About />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n        { this.state.loading && <div className={ styles['loading'] }></div> }\r\n        <div className={ styles['mask'] + (this.state.loading ? '' : ' hide') }></div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}